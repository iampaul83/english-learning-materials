<!doctype html>
<html lang="zh-Hant" data-theme="cupcake">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#0f172a" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <title>è‹±æ–‡å­¸ç¿’è³‡æº</title>
  <!-- Tailwind + daisyUI (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet" />
  <!-- Alpine.js (CDN) -->
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <style>
    /* é¡å¤–å¾®èª¿ï¼šåŠ å¤§è¡Œå‹•è£ç½®é»æ“Šå€åŸŸã€å­—è· */
    html,body{height:100%}
    .tappable{min-height:44px}
    .safe{padding-bottom:env(safe-area-inset-bottom)}

    /* Fix: remove daisyUI default bottom margin on card titles */
    .card .card-title,
    .card-compact .card-title { margin-bottom: 0 !important; }
    /* Fix: ensure SVGs inside circular buttons don't create baseline gaps */
    .btn.btn-circle > svg { display: block; }

    /* Ensure perfect centering for icons inside circular buttons */
    .btn.btn-circle {
      display: flex;            /* override inline-flex inconsistencies */
      align-items: center;
      justify-content: center;
      line-height: 1;           /* remove extra line height */
    }
    .btn.btn-circle > svg {
      display: block;           /* already set; keep for clarity */
      margin: 0;                /* reset in case any default margins exist */
      pointer-events: none;     /* avoid shifting when tooltip/hover */
    }
  </style>
</head>
<body class="bg-base-200 text-base-content">
  <!-- App Root -->
  <div x-data="app()" class="min-h-dvh flex flex-col">
    <!-- Header / è¡Œå‹•å°è¦½åˆ— -->
    <header class="navbar bg-base-100 shadow-sm sticky top-0 z-30">
      <div class="flex-1 gap-2 pl-2">
        <div class="avatar placeholder">
          <div class="bg-primary text-primary-content rounded-xl w-9">ğŸ“š</div>
        </div>
        <div>
          <h1 class="text-lg font-bold leading-tight">è‹±æ–‡å­¸ç¿’è³‡æº</h1>
          <p class="text-xs opacity-70">åŠ å…¥ä¸»ç•«é¢å¯å…¨è¢å¹•ç€è¦½</p>
        </div>
      </div>
    </header>

    <!-- Content -->
    <main class="flex-1 px-3 pb-20 pt-3 space-y-6">
      <!-- èª²æœ¬çµ„ -->
      <section x-show="filtered('èª²æœ¬').length" x-cloak>
        <div class="flex items-center gap-2 mb-2">
          <div class="badge badge-primary badge-lg">èª²æœ¬</div>
          <div class="text-xs opacity-70">å…± <span x-text="filtered('èª²æœ¬').length"></span> ç­†</div>
        </div>
        <template x-for="item in filtered('èª²æœ¬')" :key="item.id">
          <article class="card card-compact bg-base-100 shadow-sm mb-3">
            <div class="card-body py-3">
              <div class="flex items-center gap-3">
                <div class="flex-1 min-w-0">
                  <h2 class="card-title text-base leading-tight flex flex-wrap items-center gap-x-2 gap-y-1 my-0">
                    <span x-text="item.name"></span>
                    <span class="text-sm opacity-70" x-text="item.note"></span>
                  </h2>
                </div>
                <div class="flex items-center gap-2 self-center">
                  <!-- Open button å„ªå…ˆå½±ç‰‡ï¼Œå…¶æ¬¡CD -->
                  
                  <!-- Icons -->
                  <a :href="item.cd" target="_blank" rel="noopener" class="btn btn-circle btn-ghost btn-sm tooltip" aria-label="CD" :class="{'pointer-events-none opacity-40': !item.cd}">
                    <!-- Music note icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-5 h-5 block">
                      <path fill="currentColor" d="M12 3v10.55a4 4 0 1 0 2 3.45V7h4V3h-6z"/>
                    </svg>
                  </a>
                  <a :href="item.video" target="_blank" rel="noopener" class="btn btn-circle btn-ghost btn-sm tooltip" aria-label="å½±ç‰‡" :class="{'pointer-events-none opacity-40': !item.video}">
                    <!-- YouTube logo icon (balanced viewBox & path) -->
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-5 h-5 block">
                      <path fill="currentColor" d="M23.498 6.186a2.99 2.99 0 0 0-2.106-2.116C19.5 3.5 12 3.5 12 3.5s-7.5 0-9.392.57A2.99 2.99 0 0 0 .502 6.186 31.7 31.7 0 0 0 0 12a31.7 31.7 0 0 0 .502 5.814 2.99 2.99 0 0 0 2.106 2.116C4.5 20.5 12 20.5 12 20.5s7.5 0 9.392-.57a2.99 2.99 0 0 0 2.106-2.116A31.7 31.7 0 0 0 24 12a31.7 31.7 0 0 0-.502-5.814zM9.75 15.02V8.98L15.5 12z"/>
                    </svg>
                  </a>
                </div>
              </div>
            </div>
          </article>
        </template>
      </section>

      <!-- æ•…äº‹çµ„ -->
      <section x-show="filtered('æ•…äº‹').length" x-cloak>
        <div class="flex items-center gap-2 mb-2">
          <div class="badge badge-secondary badge-lg">æ•…äº‹</div>
          <div class="text-xs opacity-70">å…± <span x-text="filtered('æ•…äº‹').length"></span> ç­†</div>
        </div>
        <template x-for="item in filtered('æ•…äº‹')" :key="item.id">
          <article class="card card-compact bg-base-100 shadow-sm mb-3">
            <div class="card-body py-3">
              <div class="flex items-center gap-3">
                <div class="flex-1 min-w-0">
                  <h2 class="card-title text-base leading-tight flex flex-wrap items-center gap-x-2 gap-y-1 my-0">
                    <span x-text="item.name"></span>
                    <span class="text-sm opacity-70" x-text="item.note"></span>
                  </h2>
                </div>
                <div class="flex items-center gap-2 self-center">
                  
                  <a :href="item.cd" target="_blank" rel="noopener" class="btn btn-circle btn-ghost btn-sm tooltip" aria-label="CD" :class="{'pointer-events-none opacity-40': !item.cd}">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-5 h-5 block">
                      <path fill="currentColor" d="M12 3v10.55a4 4 0 1 0 2 3.45V7h4V3h-6z"/>
                    </svg>
                  </a>
                  <a :href="item.video" target="_blank" rel="noopener" class="btn btn-circle btn-ghost btn-sm tooltip" aria-label="å½±ç‰‡" :class="{'pointer-events-none opacity-40': !item.video}">
                    <!-- YouTube logo icon (balanced viewBox & path) -->
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-5 h-5 block">
                      <path fill="currentColor" d="M23.498 6.186a2.99 2.99 0 0 0-2.106-2.116C19.5 3.5 12 3.5 12 3.5s-7.5 0-9.392.57A2.99 2.99 0 0 0 .502 6.186 31.7 31.7 0 0 0 0 12a31.7 31.7 0 0 0 .502 5.814 2.99 2.99 0 0 0 2.106 2.116C4.5 20.5 12 20.5 12 20.5s7.5 0 9.392-.57a2.99 2.99 0 0 0 2.106-2.116A31.7 31.7 0 0 0 24 12a31.7 31.7 0 0 0-.502-5.814zM9.75 15.02V8.98L15.5 12z"/>
                    </svg>
                  </a>
                </div>
              </div>
            </div>
          </article>
        </template>
      </section>

      <!-- ç©ºç‹€æ…‹ -->
      <p x-show="!filtered('èª²æœ¬').length && !filtered('æ•…äº‹').length" class="text-center opacity-70 pt-10">æ²’æœ‰ç¬¦åˆæœå°‹çš„é …ç›®</p>
    </main>

    <!-- Footer / PWA æç¤ºå€ -->
    <footer class="safe px-4 py-3 text-center text-xs opacity-70">Â© 2025 è‹±æ–‡å­¸ç¿’è³‡æº</footer>
  </div>

  <script>
    // === ä½ çš„è³‡æ–™ï¼šç›´æ¥åœ¨é€™è£¡ç·¨è¼¯ ===
    const DATA = [
      { id: 1, group: 'èª²æœ¬', name: 'Fun box Book A', cd: 'http://hkaudioapis.ckwashington.com:81/web/#/cdselect?bid=2021080200000001&bd=1', video: 'https://youtube.com/playlist?list=PLSwnJFlaFW6ypt7ipfxR23ZU5X3RFT-_e&si=iAxQhmRy7EEb9LTV', note: ''},
      { id: 2, group: 'æ•…äº‹', name: 'Where Is Lulu', cd: 'http://hkaudioapis.ckwashington.com:81/web/#/cdselect?bid=2022101300000001&bd=1', video: '', note: 'å½±ç‰‡åœ¨KKé›²å­¸é™¢APP'},
    ];

    function app(){
      return {
        filtered(target){
          return DATA.filter(it => it.group === target);
        }
      }
    }

    // ====== PWAï¼šä»¥å–®æª”æ–¹å¼å‹•æ…‹ç”¢ç”Ÿ manifest èˆ‡ service worker ======
    // è®“ Android å¯ã€ŒåŠ å…¥ä¸»ç•«é¢ã€ï¼ŒGitHub Pages éœ€ httpsã€‚
    (function setupPWA(){
      const manifest = {
        name: 'è‹±æ–‡å­¸ç¿’è³‡æº',
        short_name: 'è‹±æ–‡å­¸ç¿’è³‡æº',
        start_url: '.',
        display: 'standalone',
        background_color: '#faf7f5',
        theme_color: '#65c3c8',
        icons: [
          { src: 'data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><rect width=%22128%22 height=%22128%22 rx=%2224%22 fill=%22%2365c3c8%22/><text x=%2264%22 y=%2274%22 font-size=%2276%22 text-anchor=%22middle%22 fill=%22%23fff%22>ğŸ“š</text></svg>', sizes: '128x128', type: 'image/svg+xml' }
        ]
      };
      const mBlob = new Blob([JSON.stringify(manifest)], {type:'application/manifest+json'});
      const mUrl = URL.createObjectURL(mBlob);
      const link = document.createElement('link');
      link.rel = 'manifest';
      link.href = mUrl;
      document.head.appendChild(link);

      // æ¥µç°¡ SWï¼šåªæ˜¯ç‚ºäº†ç¬¦åˆå®‰è£æ¢ä»¶ï¼ˆä¸åšå¿«å–ï¼‰
      if ('serviceWorker' in navigator) {
        const swCode = `self.addEventListener('install', e=>self.skipWaiting());self.addEventListener('activate', e=>clients.claim());`;
        const swBlob = new Blob([swCode], {type: 'text/javascript'});
        const swUrl = URL.createObjectURL(swBlob);
        navigator.serviceWorker.register(swUrl);
      }
    })();
  </script>
</body>
</html>
